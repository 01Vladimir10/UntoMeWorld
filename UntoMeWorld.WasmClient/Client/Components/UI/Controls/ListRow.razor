<tr @onclick="OnRowClicked" class="@(IsInMultiSelect && _isSelected ? "selected" : "")">
    @ChildContent
</tr>

@code {
    private bool _isSelected;
    
    [Parameter]
    public bool IsInMultiSelect { get; set; }

    [Parameter]
    public bool IsSelected { get; set; }

    [Parameter]
    public RenderFragment ChildContent { get; set; }

    [Parameter]
    public Action OnClick { get; set; } = () => { };

    [Parameter]
    public Action<bool> OnMultiselectChanged { get; set; } = _ => { };

    protected override void OnInitialized()
    {
        base.OnInitialized();
        _isSelected = IsSelected;
    }

    private void OnRowClicked()
    {
        if (!IsInMultiSelect)
        {
            OnClick();
            return;
        }

        OnMultiselectChanged(_isSelected = !_isSelected);
        StateHasChanged();
    }

}